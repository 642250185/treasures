var towerAOI = require('./towerAOI/towerAOI');
exp = module.exports;

var AOIService = function(config){
  if(!!config.aoi){
    this.aoi = config.aoi.getService(config);
  }else{
    this.aoi = towerAOI.getService(config);
  }
}

var pro = AOIService.prototype;

pro.getIdsByPos = function(pos){
  return this.aoi.getIdsByPos(pos);
}

pro.getIdsByPath = function(start, end){
  return this.aoi.getIdsByPath(start, end);
}

pro.addObject = function(id, pos){
  return this.aoi.addObject(id, pos);
}

pro.removeObject = function(id, pos){
  return this.aoi.removeObject(id, pos);
}

pro.updateObject = function(id, oldPos, newPos){
  this.aoi.updateObject(id, oldPos, newPos); 
}

exp.getService = function(config){
  return new AOIService(config);
}
